<!DOCTYPE html>
<html lang="cs">
<head>
Â Â <meta charset="UTF-8" />
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â Â <title>Wishlist</title>
Â Â <style>
Â Â Â Â body {
Â Â Â Â Â Â font-family: sans-serif;
Â Â Â Â Â Â background: #f4f4f4;
Â Â Â Â Â Â margin: 0;
Â Â Â Â Â Â padding: 2rem;
Â Â Â Â }
Â Â Â Â .item {
Â Â Â Â Â Â background: white;
Â Â Â Â Â Â padding: 1rem;
Â Â Â Â Â Â margin-bottom: 1rem;
Â Â Â Â Â Â display: flex;
Â Â Â Â Â Â align-items: flex-start;
Â Â Â Â Â Â gap: 1rem;
Â Â Â Â Â Â border-radius: 8px;
Â Â Â Â Â Â box-shadow: 0 2px 5px rgba(0,0,0,0.1);
Â Â Â Â }
Â Â Â Â .item img {
Â Â Â Â Â Â width: 120px;
Â Â Â Â Â Â height: auto;
Â Â Â Â Â Â border-radius: 6px;
Â Â Â Â }
Â Â Â Â .info {
Â Â Â Â Â Â flex: 1;
Â Â Â Â }
Â Â Â Â .info h2 {
Â Â Â Â Â Â margin: 0 0 0.2rem;
Â Â Â Â }
Â Â Â Â .info p {
Â Â Â Â Â Â margin: 0.2rem 0;
Â Â Â Â }
Â Â Â Â .reserve {
Â Â Â Â Â Â margin-top: 0.5rem;
Â Â Â Â }
Â Â Â Â .reserve input {
Â Â Â Â Â Â padding: 0.3rem;
Â Â Â Â }
Â Â Â Â .reserve button {
Â Â Â Â Â Â padding: 0.3rem 0.6rem;
Â Â Â Â }
Â Â </style>
</head>
<body>
Â Â <h1>ğŸ MÅ¯j Wishlist</h1>
Â Â <div id="wishlist"></div>

Â Â <script>
Â Â Â Â const BIN_ID = "683425758561e97a501b9b4d";
Â Â Â Â const API_KEY = "$2a$10$06u7rqexaQYsEZhluQjjr.awVK9F59O6l4s/5tpkIsCJt7xCHCqOa";
Â Â Â Â const BIN_URL = `https://api.jsonbin.io/v3/b/${BIN_ID}`;

Â Â Â Â async function fetchWishlist() {
Â Â Â Â Â Â const res = await fetch(BIN_URL, {
Â Â Â Â Â Â Â Â headers: {
Â Â Â Â Â Â Â Â Â Â "X-Master-Key": API_KEY
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â });
Â Â Â Â Â Â const json = await res.json();
Â Â Â Â Â Â return json.record;
Â Â Â Â }

Â Â Â Â async function updateReservation(index, name) {
Â Â Â Â Â Â const data = await fetchWishlist();
Â Â Â Â Â Â data[index].reservedBy = name;

Â Â Â Â Â Â await fetch(BIN_URL, {
Â Â Â Â Â Â Â Â method: "PUT",
Â Â Â Â Â Â Â Â headers: {
Â Â Â Â Â Â Â Â Â Â "Content-Type": "application/json",
Â Â Â Â Â Â Â Â Â Â "X-Master-Key": API_KEY
Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â body: JSON.stringify(data)
Â Â Â Â Â Â });

Â Â Â Â Â Â renderWishlist();
Â Â Â Â }

Â Â Â Â async function renderWishlist() {
Â Â Â Â Â Â const list = await fetchWishlist();
Â Â Â Â Â Â const container = document.getElementById("wishlist");
Â Â Â Â Â Â container.innerHTML = "";

Â Â Â Â Â Â list.forEach((item, index) => {
Â Â Â Â Â Â Â Â const div = document.createElement("div");
Â Â Â Â Â Â Â Â div.className = "item";
Â Â Â Â Â Â Â Â div.innerHTML = `
Â Â Â Â Â Â Â Â Â Â <img src="${item.imageUrl}" alt="${item.title}" />
Â Â Â Â Â Â Â Â Â Â <div class="info">
Â Â Â Â Â Â Â Â Â Â Â Â <h2>${item.title}</h2>
Â Â Â Â Â Â Â Â Â Â Â Â <p><strong>${item.price}</strong></p>
Â Â Â Â Â Â Â Â Â Â Â Â <p>${item.description}</p>
Â Â Â Â Â Â Â Â Â Â Â Â <p><a href="${item.buyUrl}" target="_blank">Koupit</a></p>
Â Â Â Â Â Â Â Â Â Â Â Â <p>RezervovÃ¡no: <strong>${item.reservedBy || "NikÃ½m"}</strong></p>
Â Â Â Â Â Â Â Â Â Â Â Â <div class="reserve">
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" placeholder="TvÃ© jmÃ©no" id="name-${index}" />
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button onclick="updateReservation(${index}, document.getElementById('name-${index}').value)">Zarezervovat</button>
Â Â Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â Â Â </div>
Â Â Â Â Â Â Â Â `;
Â Â Â Â Â Â Â Â container.appendChild(div);
Â Â Â Â Â Â });
Â Â Â Â }

Â Â Â Â renderWishlist();
Â Â </script>
</body>
</html>
